<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Screamer Demo</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background: black;
    overflow: hidden;
  }

  #overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: black;
    z-index: 9999;
    transition: background-color 0.05s linear;
  }

  #overlay img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.1s;
  }
</style>
</head>
<body>
  <div id="overlay">
    <img id="jumpscare" src="Jumpscare.png" alt="Jumpscare">
  </div>
  <audio id="sound" src="Fabio sabio.ogg" preload="auto"></audio>

<script>
const overlay = document.getElementById("overlay");
const img = document.getElementById("jumpscare");
const sound = document.getElementById("sound");

let flashing = false;
let flashInterval;

function startFlash() {
  if (flashing) return;
  flashing = true;
  let white = false;
  flashInterval = setInterval(() => {
    overlay.style.backgroundColor = white ? "black" : "white";
    white = !white;
  }, 80); // pisca a cada 80ms — você pode diminuir pra mais rápido
}

function stopFlash() {
  clearInterval(flashInterval);
  flashing = false;
  overlay.style.backgroundColor = "black";
}

// dispara quando mover o mouse
window.addEventListener("mousemove", () => {
  if (!flashing) {
    startFlash();

    // mostrar imagem gradualmente
    setTimeout(() => img.style.opacity = 1, 100);

    // tocar áudio (volume moderado, você pode ajustar)
    sound.volume = 0.7;
    sound.currentTime = 0;
    sound.play().catch(() => {});

    // parar após 4 segundos
    setTimeout(() => {
      stopFlash();
      img.style.opacity = 0;
    }, 4000);
  }
});
</script>
</body>
</html>
