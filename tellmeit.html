<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tell Me It</title>
<style>
  :root { --slot-size:80px; --slot-gap:12px; }
  html,body { height:100%; margin:0; background:#000; display:flex; align-items:center; justify-content:center; font-family:"Comic Sans MS", cursive, sans-serif; color:white; }
  .wrapper { text-align:center; max-width:900px; width:100%; }
  h1 { margin-bottom:18px; color:#ff7; text-shadow:0 0 12px rgba(255,200,0,0.6);}
  .slots { display:flex; justify-content:center; gap:var(--slot-gap); margin-bottom:18px; }
  .slot { width:var(--slot-size); height: calc(var(--slot-size) * 1.2); background:#222; border:3px solid #666; border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:34px; font-weight:bold; cursor:pointer; user-select:none; position:relative; box-shadow: 0 6px 24px rgba(0,0,0,0.6), inset 0 -6px 12px rgba(0,0,0,0.4); transition: transform 0.12s ease; }
  .slot:active { transform: translateY(2px) scale(0.99); }
  .overlay { position:fixed; inset:0; background:#000; opacity:0; transition:opacity 1s ease; pointer-events:none; z-index:30; }
  #doorgate { position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:360px; opacity:0; pointer-events:none; transition:opacity 1.2s ease; z-index:40; }
</style>
</head>
<body>
<div class="wrapper">
  <h1>Do you remember our secret code?</h1>
  <div class="slots" id="slotsContainer"></div>
</div>

<img id="doorgate" src="doorgate.png" alt="Door Gate">
<div class="overlay" id="overlay"></div>

<audio id="slotSound" src="slot.ogg"></audio>
<audio id="successSound" src="success.ogg"></audio>

<script>
  const CODE = "GHALER";
  const SLOTS = 6;
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  const slotsContainer = document.getElementById('slotsContainer');
  const overlay = document.getElementById('overlay');
  const doorgate = document.getElementById('doorgate');
  const slotSound = document.getElementById('slotSound');
  const successSound = document.getElementById('successSound');

  const slotElems = [];
  const slotValues = Array(SLOTS).fill('');

  for (let i=0;i<SLOTS;i++){
    const el = document.createElement('div');
    el.className='slot';
    el.dataset.index=i;
    el.textContent='-';
    slotsContainer.appendChild(el);
    slotElems.push(el);

    el.addEventListener('click', ()=>{
      // tocar som
      slotSound.currentTime=0;
      slotSound.play().catch(()=>{});

      // escolher letra aleatÃ³ria
      const l = letters[Math.floor(Math.random()*letters.length)];
      el.textContent = l;
      slotValues[i] = l;

      checkCode();
    });
  }

  function checkCode(){
    if(slotValues.includes('')) return;
    const guess = slotValues.join('');
    if(guess===CODE){
      overlay.style.pointerEvents='auto';
      overlay.style.opacity=1;
      successSound.currentTime=0;
      successSound.play().catch(()=>{});
      setTimeout(()=>{doorgate.style.opacity=1;},1000);
    }
  }
</script>
</body>
</html>
