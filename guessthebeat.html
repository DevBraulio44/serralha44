<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guess the drums</title>
  <style>
    html,body{height:100%;margin:0;background:#000;color:#fff;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden}

    .wrap{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px;box-sizing:border-box;padding:20px;}

    /* Animated Title */
    h1{
      margin:0;
      font-size:32px;
      letter-spacing:2px;
      animation: glow 2s ease-in-out infinite alternate;
      text-align:center;
    }
    @keyframes glow{
      from{ text-shadow:0 0 8px #555; }
      to{ text-shadow:0 0 18px #fff; }
    }

    /* Buttons */
    button{
      background:#111;
      border:2px solid #fff;
      padding:12px 20px;
      border-radius:10px;
      color:#fff;
      cursor:pointer;
      font-weight:700;
      transition:0.2s;
    }
    button:hover{ background:#222; transform:scale(1.05); }

    /* Layout */
    .container{display:flex;gap:40px;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;}
    .vinyl{width:240px;height:240px;object-fit:contain;display:block;}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;width:700px;max-width:90%;}

    .answer-box{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);padding:12px;border-radius:10px;min-height:46px;display:flex;align-items:center;backdrop-filter:blur(4px);}
    .answer-box input{width:100%;background:transparent;border:0;color:#fff;outline:none;font-size:16px;text-align:center;}

    .controls{display:flex;flex-direction:column;gap:10px;align-items:center;}
    .small{font-size:14px;opacity:0.8;text-align:center;}

    /* Falling items */
    .fall-item{position:absolute;pointer-events:none;}

    /* Doorgate */
    #doorgate{display:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:280px;animation:fadeIn 1.5s forwards;}
    @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
  </style>
</head>
<body>
  <div class="wrap" id="wrap">
    <h1>Guess The Drum Styles</h1>

    <div class="controls">
      <button id="playBtn">▶ Play</button>
      <div class="small">The vinyl animation only plays while the music is playing.</div>
    </div>

    <div class="container">
      <div id="vinylHolder"></div>

      <div>
        <div class="small">Identify the 6 drum styles in the correct order.</div><br>
        <div class="grid" id="grid">
          <div class="answer-box"><input placeholder="1" data-index="0"></div>
          <div class="answer-box"><input placeholder="2" data-index="1"></div>
          <div class="answer-box"><input placeholder="3" data-index="2"></div>
          <div class="answer-box"><input placeholder="4" data-index="3"></div>
          <div class="answer-box"><input placeholder="5" data-index="4"></div>
          <div class="answer-box"><input placeholder="6" data-index="5"></div>
        </div>
        <div style="display:flex;gap:10px;margin-top:14px;justify-content:center;">
          <button id="checkBtn">Check</button>
          <button id="resetBtn" style="background:#000;border-color:#777;">Reset</button>
        </div>
      </div>
    </div>

    <audio id="bgAudio" preload="auto" src="JOGO DO ADIVINHA.ogg"></audio>
    <img id="doorgate" src="doorgate.png" alt="Gate">
  </div>

  <script>
    const ANSWERS = ["Rapid-Fire","Rock'n Roll","Hip-Hop","Indie","Techno","WTF"]

    const playBtn = document.getElementById('playBtn')
    const bgAudio = document.getElementById('bgAudio')
    const vinylHolder = document.getElementById('vinylHolder')
    const grid = document.getElementById('grid')
    const checkBtn = document.getElementById('checkBtn')
    const resetBtn = document.getElementById('resetBtn')
    const doorgate = document.getElementById('doorgate')
    const wrap = document.getElementById('wrap')

    function normalize(s){return s.trim().toLowerCase().replace(/[^a-z0-9 ]/g,'')}

    function compare(a,b){return normalize(a)===normalize(b)}

    playBtn.addEventListener('click', ()=>{
      if(bgAudio.paused){
        bgAudio.currentTime=0;
        bgAudio.play();
        playBtn.textContent='⏸ Pause';
        placeVinyl();
      } else {
        bgAudio.pause();
        playBtn.textContent='▶ Play';
        vinylHolder.innerHTML='';
      }
    })

    function placeVinyl(){
      if(vinylHolder.children.length) return;
      const img=document.createElement('img');
      img.src='Vinil.gif';
      img.className='vinyl';
      vinylHolder.appendChild(img);
    }

    checkBtn.addEventListener('click',()=>{
      const values=[...document.querySelectorAll('input')].map(i=>i.value)
      for(let i=0;i<6;i++){
        if(!compare(values[i],ANSWERS[i])){
          alert('Incorrect order. Try again!')
          return
        }
      }
      EVERYTHINGFalls()
    })

    resetBtn.addEventListener('click',()=>{location.reload()})

    function EVERYTHINGFalls(){
      const allElements=[...wrap.querySelectorAll('*:not(#doorgate):not(script):not(audio)')]

      const wrapRect = wrap.getBoundingClientRect()
      const clones=[]

      allElements.forEach(el=>{
        const r=el.getBoundingClientRect()
        const c=el.cloneNode(true)
        c.classList.add('fall-item')
        c.style.left=(r.left-wrapRect.left)+'px'
        c.style.top=(r.top-wrapRect.top)+'px'
        c.style.width=r.width+'px'
        c.style.height=r.height+'px'
        wrap.appendChild(c)
        clones.push({el:c,y:r.top-wrapRect.top,vy:0,rot:0,vr:(Math.random()-0.5)*0.4})
        el.style.visibility='hidden'
      })

      const g=2600
      let last=performance.now()

      function step(now){
        const dt=(now-last)/1000; last=now
        clones.forEach(o=>{
          o.vy+=g*dt
          o.y+=o.vy*dt
          o.rot+=o.vr*dt*120
          o.el.style.top=o.y+'px'
          o.el.style.transform=`rotate(${o.rot}deg)`
        })
        if(clones.every(o=>o.y>window.innerHeight+300)){
          clones.forEach(o=>o.el.remove())
          doorgate.style.display='block'
          return
        }
        requestAnimationFrame(step)
      }
      requestAnimationFrame(step)
    }
  </script>
</body>
</html>
